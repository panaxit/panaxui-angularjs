/*
* Kendo UI v2015.3.1111 (http://www.telerik.com/kendo-ui)
* Copyright 2015 Telerik AD. All rights reserved.
*
* Kendo UI commercial licenses may be obtained at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
!function(e,define){define(["./kendo.core.min","./kendo.draganddrop.min"],e)}(function(){return function(e){function t(t,n){t=e(t),n?t.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):t.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var n=window.kendo,i=n.getOffset,o=n.ui.Widget,r="change",s="k-reorderable",a=o.extend({init:function(a,l){var c,u=this,d=n.guid()+"-reorderable";o.fn.init.call(u,a,l),a=u.element.addClass(s),l=u.options,u.draggable=c=l.draggable||new n.ui.Draggable(a,{group:d,autoScroll:!0,filter:l.filter,hint:l.hint}),u.reorderDropCue=e('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),a.find(c.options.filter).kendoDropTarget({group:c.options.group,dragenter:function(e){var n,o,r,s;u._draggable&&(n=this.element,r=!u._dropTargetAllowed(n)||u._isLastDraggable(),t(e.draggable.hint,r),r||(o=i(n),s=o.left,l.inSameContainer&&!l.inSameContainer({source:n,target:u._draggable,sourceIndex:u._index(n),targetIndex:u._index(u._draggable)})?u._dropTarget=n:u._index(n)>u._index(u._draggable)&&(s+=n.outerWidth()),u.reorderDropCue.css({height:n.outerHeight(),top:o.top,left:s}).appendTo(document.body)))},dragleave:function(e){t(e.draggable.hint,!0),u.reorderDropCue.remove(),u._dropTarget=null},drop:function(){var e,t;u._dropTarget=null,u._draggable&&(e=this.element,t=u._draggable,u._dropTargetAllowed(e)&&!u._isLastDraggable()&&u.trigger(r,{element:u._draggable,target:e,oldIndex:u._index(t),newIndex:u._index(e),position:i(u.reorderDropCue).left>i(e).left?"after":"before"}))}}),c.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){u.reorderDropCue.remove(),u._draggable=null,u._elements=null},dragend:function(){u.reorderDropCue.remove(),u._draggable=null,u._elements=null},dragstart:function(e){u._draggable=e.currentTarget,u._elements=u.element.find(u.draggable.options.filter)},drag:function(e){var t,n;u._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-denied")&&(t=i(u._dropTarget).left,n=u._dropTarget.outerWidth(),u.reorderDropCue.css(e.pageX>t+n/2?{left:t+n}:{left:t}))}})},options:{name:"Reorderable",filter:"*"},events:[r],_isLastDraggable:function(){var e,t=this.options.inSameContainer,n=this._draggable[0],i=this._elements.get(),o=!1;if(!t)return!1;for(;!o&&i.length>0;)e=i.pop(),o=n!==e&&t({source:n,target:e,sourceIndex:this._index(n),targetIndex:this._index(e)});return!o},_dropTargetAllowed:function(e){var t=this.options.inSameContainer,n=this.options.dragOverContainers,i=this._draggable;return i[0]===e[0]?!1:t&&n?t({source:i,target:e,sourceIndex:this._index(i),targetIndex:this._index(e)})?!0:n(this._index(i),this._index(e)):!0},_index:function(e){return this._elements.index(e)},destroy:function(){var t=this;o.fn.destroy.call(t),t.element.find(t.draggable.options.filter).each(function(){var t=e(this);t.data("kendoDropTarget")&&t.data("kendoDropTarget").destroy()}),t.draggable&&(t.draggable.destroy(),t.draggable.element=t.draggable=null),t.elements=t.reorderDropCue=t._elements=t._draggable=null}});n.ui.plugin(a)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});
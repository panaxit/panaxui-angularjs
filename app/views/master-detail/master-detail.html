<px-grid
  data="vm.data"
  catalog="vm.catalog"
  fields="vm.fields.grid"
  options="vm.options"
  open-handler="vm.onOpen(selected)"
  new-handler="vm.onNew(catalogName)"
  delete-handler="vm.onDelete(selected)"
  pagination-change-handler="vm.onPaginationChange(newPage, pageSize)"
  row-change-promise="vm.onRowChange(rowEntity)"
  next-handler="vm.onNext(selected)">
</px-grid>

<form ng-submit="vm.onSubmit()" name="vm.form" novalidate>

  <px-form
    data="[vm.selected_record]"
    catalog="vm.catalog"
    fields="vm.fields.form"
    form="vm.form"
    async-pagination="true"
    pagination-change-handler="vm.onPaginationChange(newPage, newPageSize)">
  </px-form>

  <div class="panel-footer clearfix" ng-if="vm.catalog.mode !== 'readonly'">

    <div class="btn-toolbar">
      <div class="pull-left" ng-if="vm.catalog.mode === 'edit' || vm.catalog.mode === 'insert'">
        <div class="btn-group btn-group-md">
          <!-- <button class="btn btn-default" type="button" ng-click="vm.onCancel()">
            <em class="glyphicon glyphicon-ban-circle"></em>
            Cancel
          </button> -->
          <button class="btn btn-primary submit-button" type="submit"
              ng-disabled="vm.isSubmitDisabled()">
            <em class="glyphicon glyphicon-ok-sign"></em>
            Save
          </button>
        </div>
      </div>

      <div class="pull-right" ng-if="vm.catalog.mode === 'filters'">
        <div class="btn-group btn-group-md">
          <button class="btn btn-primary submit-button" type="submit">
            <em class="glyphicon glyphicon-arrow-right"></em>
            Filter
          </button>
          <!-- <button class="btn btn-info" type="button" ng-click="vm.onReset({form: form})">
            <em class="glyphicon glyphicon-retweet"></em>
            Reset
          </button> -->
        </div>
      </div>
    </div>

  </div>

</form>

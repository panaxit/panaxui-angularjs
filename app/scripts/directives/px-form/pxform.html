<form ng-submit="vm.submitHandler({pxForm: pxForm})" name="pxForm" novalidate>

	<div class="panel-body">

    <fieldset ng-repeat="fieldset in vm.form | filter:{type:'fieldset'}">
      <formly-form model="vm.data"
                   fields="fieldset.fields"
                   heading="{{fieldset.title}}"
                   active="fieldset.active"
                   disable="fieldset.disabled">
      </formly-form>
    </fieldset>

    <tabset ng-repeat="tabpanel in vm.form | filter:{type:'tabpanel'}">
      <tab ng-repeat="tab in tabpanel.tabs | filter:{type:'tab'}"
           heading="{{tab.title}}"
           active="tab.active"
           disable="tab.disabled">

          <formly-form model="vm.data" fields="tab.fields">
          </formly-form>

      </tab>
    </tabset>

	</div>

	<div class="panel-footer clearfix">

    <div class="btn-toolbar">
      <div class="pull-left">
        <div class="btn-group btn-group-md">
          <!-- <button class="btn btn-default" type="button" ng-click="vm.cancelHandler()">
            <em class="glyphicon glyphicon-ban-circle"></em>
            Cancel
          </button> -->
          <button class="btn btn-primary submit-button" type="submit"
              ng-disabled="vm.catalog.mode !== 'insert' &amp;&amp; (vm.catalog.mode === 'readonly' || pxForm.$pristine || pxForm.$invalid)">
            <em class="glyphicon glyphicon-ok-sign"></em>
            Save
          </button>
        </div>
      </div>

      <div class="pull-right">
        <div class="btn-group btn-group-md">
          <!-- <button class="btn btn-info" type="button" ng-click="vm.resetHandler({pxForm: pxForm})">
            <em class="glyphicon glyphicon-retweet"></em>
            Reset
          </button> -->
        </div>
      </div>
    </div>

	</div>

</form>
